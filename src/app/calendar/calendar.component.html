<mat-sidenav-container>
  
  <mat-sidenav #sidenav mode="side" [(opened)]="sidenav_opened">Drawer content</mat-sidenav>

  <mat-sidenav-content>
    <div fxLayout="row">
        <h1>Calendar</h1>
    </div>
    
    <div fxLayout="row">
        <div fxFlex = "10" fxLayout="column" fxLayoutAlign="center start">
            <button mat-icon-button (click)="sidenav.toggle()">
              <mat-icon aria-label="">arrow_forward_ios</mat-icon>
            </button>
        </div>
        
        <div fxFlex = "70" fxLayout="column" fxLayoutAlign="center center" > 
            <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>
        </div>

        <div fxFlex = "20" fxLayout="row" fxLayoutAlign="end center">
            <button mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate" (viewDateChange)="fetchEvents()"
              mat-raised-button color="primary">Previous</button>
    
            <button [(viewDate)]="viewDate" mwlCalendarToday mat-raised-button (viewDateChange)="fetchEvents()">Today</button>
            <button mwlCalendarNextView [view]="view" [(viewDate)]="viewDate" (viewDateChange)="fetchEvents()"
              mat-raised-button color="primary">Next</button>
        </div>
    </div>

    <div *ngIf="events$ | async; else loading; let events">
      <mwl-calendar-week-view [viewDate]="viewDate" [weekStartsOn]="weekStartsOn" [excludeDays]="excludeDays" [events]="events"
        [dayStartHour]="dayStartHour" [dayEndHour]="dayEndHour" [locale]="locale" [refresh]="refresh" (eventClicked)="eventClicked($event)"
        (eventTimesChanged)="eventTimesChanged($event)">
      </mwl-calendar-week-view>
    </div>

    <ng-template #loading>
      <div class="text-center">
        <i class="fa fa-spin fa-spinner fa-5x"></i>
        <br>
        Loading events...
      </div>
    </ng-template>
  </mat-sidenav-content>
</mat-sidenav-container>